(()=>{var s=class extends HTMLElement{#n=[];#i;#t;#s;#e;#h;constructor(){super()}#l(){this.#n.forEach(t=>{t.style.display=this.#h})}#d(){this.classList.add("active")}#a(t){let e=t.target.value.toLowerCase();this.#n.forEach(i=>{i.innerHTML.toLowerCase().includes(e)?i.style.display=this.#h:i.style.display="none"}),e.length>0&&this.#n.filter(i=>!i.hasAttribute("data-not-found")).every(i=>i.style.display==="none")?this.#e.style.display=this.#h:this.#e.style.display="none"}#o(){this.#i=document.createElement("input"),this.#i.setAttribute("type","hidden"),this.#i.setAttribute("name",this.getAttribute("name")),this.#i.setAttribute("value",this.getAttribute("value")),this.appendChild(this.#i),this.removeAttribute("value")}#c(){let t=["placeholder"];this.#t=document.createElement("input"),this.getAttributeNames().forEach(e=>{t.includes(e)||(this.#t.setAttribute(e,this.getAttribute(e)),this.removeAttribute(e))}),this.#t.setAttribute("type","text"),this.#t.setAttribute("placeholder",this.getAttribute("placeholder")||"Search..."),this.removeAttribute("placeholder"),this.#t.addEventListener("click",this.#d.bind(this)),this.#t.addEventListener("focus",this.#d.bind(this)),this.#t.addEventListener("input",this.#a.bind(this)),this.appendChild(this.#t)}#r(){this.#s=document.createElement("div");for(let t=0;t<this.childNodes.length;t++)if(this.childNodes[t].tagName==="OPTION"){let e=document.createElement("div");e.innerHTML=this.childNodes[t].innerHTML,e.setAttribute("data-value",this.childNodes[t].getAttribute("value")),this.childNodes[t].hasAttribute("data-not-found")?(e.setAttribute("data-not-found",""),this.childNodes[t].hasAttribute("click")&&(e.setAttribute("click",this.childNodes[t].getAttribute("click")),e.addEventListener("click",i=>{new Function(i.target.getAttribute("click"))()}))):e.addEventListener("click",i=>{this.#i.value=i.target.dataset.value,this.#t.value=i.target.innerHTML.trim();let n=new CustomEvent("onchange",{detail:{value:i.target.dataset.value}});this.dispatchEvent(n),window.setTimeout(()=>{this.#l()},200)}),this.#s.appendChild(e),this.#n.push(e),this.#h=e.style.display,this.childNodes[t].getAttribute("value")===this.#i.value&&(this.#t.value=this.childNodes[t].innerHTML),this.childNodes[t].remove()}this.appendChild(this.#s)}#u(){this.#e=this.#s.querySelector("[data-not-found]"),this.#e||(this.#e=document.createElement("div"),this.#e.innerHTML="Not found",this.#e.setAttribute("data-not-found","")),this.#e.style.display="none",this.#s.appendChild(this.#e)}connectedCallback(){this.#o(),this.#c(),this.#r(),this.#u(),document.addEventListener("click",t=>{t.target!==this.#t&&this.classList.remove("active")})}disconnectedCallback(){this.#t.removeEventListener("click",this.#d.bind(this)),this.#t.removeEventListener("focus",this.#d.bind(this)),this.#t.removeEventListener("input",this.#a.bind(this))}};window.customElements.define("web-component-select",s);})();
//# sourceMappingURL=web-component-select.min.js.map
