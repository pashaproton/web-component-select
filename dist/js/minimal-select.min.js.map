{
  "version": 3,
  "sources": ["../../src/index.js"],
  "sourcesContent": ["class MinimalSelect extends HTMLElement {\n  #options = [];\n  #valueInput;\n  #searchInput;\n  #optionStyleDisplay;\n\n  constructor() {\n    super()\n  }\n\n  #resetOptions() {\n    this.#options.forEach(option => {\n      option.style.display = this.#optionStyleDisplay;\n    });\n  }\n\n  #showOptions() {\n    this.classList.add(\"active\");\n  }\n\n  #filterOptions(e) {\n    const value = e.target.value.toLowerCase();\n    this.#options.forEach(option => {\n      if (option.innerHTML.toLowerCase().includes(value)) {\n        option.style.display = this.#optionStyleDisplay;\n      } else {\n        option.style.display = \"none\";\n      }\n    });\n  }\n\n  #createValueInput() {\n    this.#valueInput = document.createElement(\"input\");\n    this.#valueInput.setAttribute(\"type\", \"hidden\");\n    this.#valueInput.setAttribute(\"name\", this.getAttribute(\"name\"));\n    this.#valueInput.setAttribute(\"value\", this.getAttribute(\"value\"));\n    this.appendChild(this.#valueInput);\n    this.removeAttribute(\"value\");\n  }\n\n  #createSearchInput() {\n    this.#searchInput = document.createElement(\"input\");\n    this.#searchInput.setAttribute(\"type\", \"text\");\n    this.#searchInput.setAttribute(\"placeholder\", this.getAttribute(\"placeholder\"));\n    this.#searchInput.addEventListener(\"click\", this.#showOptions.bind(this));\n    this.#searchInput.addEventListener(\"focus\", this.#showOptions.bind(this));\n    this.#searchInput.addEventListener(\"input\", this.#filterOptions.bind(this));\n    this.appendChild(this.#searchInput);\n  }\n\n  #createOptions() {\n    const optionsWrapp = document.createElement(\"div\");\n\n    for (let i = 0; i < this.childNodes.length; i++) {\n      if (this.childNodes[i].tagName === \"OPTION\") {\n        const option = document.createElement(\"div\");\n        option.innerHTML = this.childNodes[i].innerHTML;\n        option.setAttribute(\"data-value\", this.childNodes[i].getAttribute(\"value\"));\n        option.addEventListener(\"click\", e => {\n          this.#valueInput.value = e.target.dataset.value;\n          this.#searchInput.value = e.target.innerHTML;\n\n          const changeEvent = new CustomEvent(\"onchange\", {\n            detail: {\n              value: e.target.dataset.value\n            }\n          });\n          this.dispatchEvent(changeEvent);\n\n          window.setTimeout(() => {\n            this.#resetOptions();\n          }, 200);\n        });\n        optionsWrapp.appendChild(option);\n        this.#options.push(option);\n        this.#optionStyleDisplay = option.style.display;\n\n        if (this.childNodes[i].getAttribute(\"value\") === this.#valueInput.value) {\n          this.#searchInput.value = this.childNodes[i].innerHTML;\n        }\n\n        this.childNodes[i].remove();\n      }\n    }\n\n    this.appendChild(optionsWrapp);\n  }\n\n  connectedCallback() {\n    this.#createValueInput();\n    this.#createSearchInput();\n    this.#createOptions();\n\n    document.addEventListener(\"click\", (e) => {\n      if (e.target !== this.#searchInput) {\n        this.classList.remove(\"active\");\n      }\n    });\n  }\n\n  disconnectedCallback() {\n    this.#searchInput.removeEventListener(\"click\", this.#showOptions.bind(this));\n    this.#searchInput.removeEventListener(\"focus\", this.#showOptions.bind(this));\n    this.#searchInput.removeEventListener(\"input\", this.#filterOptions.bind(this));\n  }\n}\n\nwindow.customElements.define(\"minimal-select\", MinimalSelect);\n"],
  "mappings": "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",
  "names": ["MinimalSelect", "#options", "#valueInput", "#searchInput", "#optionStyleDisplay", "#resetOptions", "option", "#showOptions", "#filterOptions", "e", "value", "#createValueInput", "#createSearchInput", "#createOptions", "optionsWrapp", "i", "changeEvent"]
}
