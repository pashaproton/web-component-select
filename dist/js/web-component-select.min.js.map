{
  "version": 3,
  "sources": ["../../src/index.js"],
  "sourcesContent": ["class WebComponentSelect extends HTMLElement {\n  #options = [];\n  #valueInput;\n  #searchInput;\n  #optionsWrapp;\n  #notFoundOption;\n  #optionStyleDisplay;\n\n  constructor() {\n    super()\n  }\n\n  #resetOptions() {\n    this.#options.forEach(option => {\n      option.style.display = this.#optionStyleDisplay;\n    });\n  }\n\n  #showOptions() {\n    this.classList.add(\"active\");\n  }\n\n  #filterOptions(e) {\n    const value = e.target.value.toLowerCase();\n\n    this.#options.forEach(option => {\n      if (option.innerHTML.toLowerCase().includes(value)) {\n        option.style.display = this.#optionStyleDisplay;\n      } else {\n        option.style.display = \"none\";\n      }\n    });\n\n    if (\n      value.length > 0\n      && this.#options\n        .filter(option => !option.hasAttribute('data-not-found'))\n        .every(option => option.style.display === \"none\")\n    ) {\n      this.#notFoundOption.style.display = this.#optionStyleDisplay;\n    } else {\n      this.#notFoundOption.style.display = \"none\";\n    }\n  }\n\n  #createValueInput() {\n    this.#valueInput = document.createElement(\"input\");\n    this.#valueInput.setAttribute(\"type\", \"hidden\");\n    this.#valueInput.setAttribute(\"name\", this.getAttribute(\"name\"));\n    this.#valueInput.setAttribute(\"value\", this.getAttribute(\"value\"));\n    this.appendChild(this.#valueInput);\n    this.removeAttribute(\"value\");\n  }\n\n  #createSearchInput() {\n    const ignoreAttributes = [\"placeholder\"];\n    this.#searchInput = document.createElement(\"input\");\n\n    this.getAttributeNames().forEach(attrName => {\n      if (!ignoreAttributes.includes(attrName)) {\n        this.#searchInput.setAttribute(attrName, this.getAttribute(attrName));\n        this.removeAttribute(attrName);\n      }\n    });\n\n    this.#searchInput.setAttribute(\"type\", \"text\");\n    this.#searchInput.setAttribute(\"placeholder\", this.getAttribute(\"placeholder\") || \"Search...\");\n    this.removeAttribute(\"placeholder\");\n\n    this.#searchInput.addEventListener(\"click\", this.#showOptions.bind(this));\n    this.#searchInput.addEventListener(\"focus\", this.#showOptions.bind(this));\n    this.#searchInput.addEventListener(\"input\", this.#filterOptions.bind(this));\n    this.appendChild(this.#searchInput);\n  }\n\n  #createOptions() {\n    this.#optionsWrapp = document.createElement(\"div\");\n\n    for (let i = 0; i < this.childNodes.length; i++) {\n      if (this.childNodes[i].tagName === \"OPTION\") {\n        const option = document.createElement(\"div\");\n        option.innerHTML = this.childNodes[i].innerHTML;\n        option.setAttribute(\"data-value\", this.childNodes[i].getAttribute(\"value\"));\n\n        if (this.childNodes[i].hasAttribute(\"data-not-found\")) {\n          // option.click = this.childNodes[i].click;\n          option.setAttribute(\"data-not-found\", \"\");\n\n          if (this.childNodes[i].hasAttribute(\"click\")) {\n            option.setAttribute(\"click\", this.childNodes[i].getAttribute(\"click\"));\n\n            option.addEventListener(\"click\", e => {\n              const click = new Function(e.target.getAttribute(\"click\"));\n              click();\n            });\n          }\n        } else {\n          option.addEventListener(\"click\", e => {\n            this.#valueInput.value = e.target.dataset.value;\n            this.#searchInput.value = e.target.innerHTML.trim();\n\n            const changeEvent = new CustomEvent(\"onchange\", {\n              detail: {\n                value: e.target.dataset.value\n              }\n            });\n            this.dispatchEvent(changeEvent);\n\n            window.setTimeout(() => {\n              this.#resetOptions();\n            }, 200);\n          });\n        }\n\n        this.#optionsWrapp.appendChild(option);\n        this.#options.push(option);\n        this.#optionStyleDisplay = option.style.display;\n\n        if (this.childNodes[i].getAttribute(\"value\") === this.#valueInput.value) {\n          this.#searchInput.value = this.childNodes[i].innerHTML;\n        }\n\n        this.childNodes[i].remove();\n      }\n    }\n\n    this.appendChild(this.#optionsWrapp);\n  }\n\n  #createNotFoundOption() {\n    this.#notFoundOption = this.#optionsWrapp.querySelector(\"[data-not-found]\");\n\n    if (!this.#notFoundOption) {\n      this.#notFoundOption = document.createElement(\"div\");\n      this.#notFoundOption.innerHTML = \"Not found\";\n      this.#notFoundOption.setAttribute(\"data-not-found\", \"\");\n    }\n\n    this.#notFoundOption.style.display = \"none\";\n    this.#optionsWrapp.appendChild(this.#notFoundOption);\n  }\n\n  connectedCallback() {\n    this.#createValueInput();\n    this.#createSearchInput();\n    this.#createOptions();\n    this.#createNotFoundOption();\n\n    document.addEventListener(\"click\", (e) => {\n      if (e.target !== this.#searchInput) {\n        this.classList.remove(\"active\");\n      }\n    });\n  }\n\n  disconnectedCallback() {\n    this.#searchInput.removeEventListener(\"click\", this.#showOptions.bind(this));\n    this.#searchInput.removeEventListener(\"focus\", this.#showOptions.bind(this));\n    this.#searchInput.removeEventListener(\"input\", this.#filterOptions.bind(this));\n  }\n}\n\nwindow.customElements.define(\"web-component-select\", WebComponentSelect);\n"],
  "mappings": "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",
  "names": ["WebComponentSelect", "#options", "#valueInput", "#searchInput", "#optionsWrapp", "#notFoundOption", "#optionStyleDisplay", "#resetOptions", "option", "#showOptions", "#filterOptions", "e", "value", "#createValueInput", "#createSearchInput", "ignoreAttributes", "attrName", "#createOptions", "i", "changeEvent", "#createNotFoundOption"]
}
