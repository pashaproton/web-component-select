{
  "version": 3,
  "sources": ["../../src/index.js"],
  "sourcesContent": ["class WebComponentSelect extends HTMLElement {\n  #options = [];\n  #valueInput;\n  #searchInput;\n  #optionStyleDisplay;\n\n  constructor() {\n    super()\n  }\n\n  #resetOptions() {\n    this.#options.forEach(option => {\n      option.style.display = this.#optionStyleDisplay;\n    });\n  }\n\n  #showOptions() {\n    this.classList.add(\"active\");\n  }\n\n  #filterOptions(e) {\n    const value = e.target.value.toLowerCase();\n    this.#options.forEach(option => {\n      if (option.innerHTML.toLowerCase().includes(value)) {\n        option.style.display = this.#optionStyleDisplay;\n      } else {\n        option.style.display = \"none\";\n      }\n    });\n  }\n\n  #createValueInput() {\n    this.#valueInput = document.createElement(\"input\");\n    this.#valueInput.setAttribute(\"type\", \"hidden\");\n    this.#valueInput.setAttribute(\"name\", this.getAttribute(\"name\"));\n    this.#valueInput.setAttribute(\"value\", this.getAttribute(\"value\"));\n    this.appendChild(this.#valueInput);\n    this.removeAttribute(\"value\");\n  }\n\n  #createSearchInput() {\n    const ignoreAttributes = [\"placeholder\"];\n    this.#searchInput = document.createElement(\"input\");\n\n    this.getAttributeNames().forEach(attrName => {\n      if (!ignoreAttributes.includes(attrName)) {\n        this.#searchInput.setAttribute(attrName, this.getAttribute(attrName));\n        this.removeAttribute(attrName);\n      }\n    });\n\n    this.#searchInput.setAttribute(\"type\", \"text\");\n    this.#searchInput.setAttribute(\"placeholder\", this.getAttribute(\"placeholder\") || \"Search...\");\n    this.removeAttribute(\"placeholder\");\n\n    this.#searchInput.addEventListener(\"click\", this.#showOptions.bind(this));\n    this.#searchInput.addEventListener(\"focus\", this.#showOptions.bind(this));\n    this.#searchInput.addEventListener(\"input\", this.#filterOptions.bind(this));\n    this.appendChild(this.#searchInput);\n  }\n\n  #createOptions() {\n    const optionsWrapp = document.createElement(\"div\");\n\n    for (let i = 0; i < this.childNodes.length; i++) {\n      if (this.childNodes[i].tagName === \"OPTION\") {\n        const option = document.createElement(\"div\");\n        option.innerHTML = this.childNodes[i].innerHTML;\n        option.setAttribute(\"data-value\", this.childNodes[i].getAttribute(\"value\"));\n        option.addEventListener(\"click\", e => {\n          this.#valueInput.value = e.target.dataset.value;\n          this.#searchInput.value = e.target.innerHTML.trim();\n\n          const changeEvent = new CustomEvent(\"onchange\", {\n            detail: {\n              value: e.target.dataset.value\n            }\n          });\n          this.dispatchEvent(changeEvent);\n\n          window.setTimeout(() => {\n            this.#resetOptions();\n          }, 200);\n        });\n        optionsWrapp.appendChild(option);\n        this.#options.push(option);\n        this.#optionStyleDisplay = option.style.display;\n\n        if (this.childNodes[i].getAttribute(\"value\") === this.#valueInput.value) {\n          this.#searchInput.value = this.childNodes[i].innerHTML;\n        }\n\n        this.childNodes[i].remove();\n      }\n    }\n\n    this.appendChild(optionsWrapp);\n  }\n\n  connectedCallback() {\n    this.#createValueInput();\n    this.#createSearchInput();\n    this.#createOptions();\n\n    document.addEventListener(\"click\", (e) => {\n      if (e.target !== this.#searchInput) {\n        this.classList.remove(\"active\");\n      }\n    });\n  }\n\n  disconnectedCallback() {\n    this.#searchInput.removeEventListener(\"click\", this.#showOptions.bind(this));\n    this.#searchInput.removeEventListener(\"focus\", this.#showOptions.bind(this));\n    this.#searchInput.removeEventListener(\"input\", this.#filterOptions.bind(this));\n  }\n}\n\nwindow.customElements.define(\"web-component-select\", WebComponentSelect);\n"],
  "mappings": "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",
  "names": ["WebComponentSelect", "#options", "#valueInput", "#searchInput", "#optionStyleDisplay", "#resetOptions", "option", "#showOptions", "#filterOptions", "value", "#createValueInput", "#createSearchInput", "ignoreAttributes", "attrName", "#createOptions", "optionsWrapp", "i", "e", "changeEvent"]
}
